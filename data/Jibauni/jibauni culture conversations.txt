# Copyright (c) 2024 by Loymdayddaud
#
# Endless Sky is free software: you can redistribute it and/or modify it under the
# terms of the GNU General Public License as published by the Free Software
# Foundation, either version 3 of the License, or (at your option) any later version.
#
# Endless Sky is distributed in the hope that it will be useful, but WITHOUT ANY
# WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
# PARTICULAR PURPOSE. See the GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License along with
# this program. If not, see <https://www.gnu.org/licenses/>.

mission "Jibauni Culture: Rebel Chase"
	minor
	source
		government "Jibauni (Rebel)"
	to offer
		has "language: Jibauni"
		random < 1
	on offer
		conversation
			`As you are walking through the spaceport, you hear a commotion behind you. A Jibauni is running your way, and behind it are several more in some sort of uniform.`
			choice
				`	(Go back to <ship> and wait for the ruckus to calm down.)`
					goto wait
				`	"What is going on?"`
					goto question
				`	(Stay where you are.)`
					goto runinto
			label wait
			`	You go back to <ship>. The Jibauni who was being chased comes running your way, but is caught by the others and put in chains before passing your ship.`
				decline
			label runinto
			`	As you stand where you are, the Jibauni come racing your way, knocking you down as the chase continues. Once all of the soldiers pass, a bystander helps you up and brushes you off, telling you that scenes like this are fairly frequent, happening either when a Jibauni is accused of stealing... or does something people of power dislike.`
				decline
			label question
			`	All of the Jibauni keep running past you, intent on what they are doing. After the traces are gone, a bystander tells you that scenes like this are fairly frequent, when a Jibauni is accused of stealing... or doing something the Governor does not like.`
				decline

mission "Jibauni Culture: Hajay Intersystem"
	minor
	source "Kanlil"
	to offer
		has "language: Jibauni"
		random < 1
	on offer
		conversation
			`A Quyan lands shortly after <ship> touches down, but it seems to have more Jibauni disembarking than any normal Quyan could have. Do you want to go investigate?`
			choice
				`	(Why not.)`
				`	(No.)`
					goto no
			`	You walk up to the Quyan, whose name you notice is "C. S. Jandon". Indeed, the number of passengers is more than usual.`
			choice
				`	"How do you fit so many Jibauni on board?"`
				`	(Never mind. Get out of here before the captain notices you.)`
					goto no
			`	"Oh," the captain says. "I removed my hyperdrive. Simple, easy, and it lets you fit four more passengers for nothing."`
			choice
				`	"Why would you do that?"`
				`	"I see."`
			`	"I do it because the peaceful captain life is good enough for me. I don't need to go gallivanting around to strange places. I've been in Hajay my whole life, and enjoyed every bit of it. May I ask you a question?"`
			choice
				`	"Sure."`
					goto herquestion
				`	"If you want."`
					goto herquestion
				`	"No thanks."`
					goto nothanksship
			label herquestion
			`	"What is the name of your ship, <first>?"`
			choice
				`	"<ship>."`
					goto toldship
				`	"Wait. How do you know my name?"`
					goto namequestion
				`	"I thought you would know that I am Captain <first> <last> of the <ship>."`
					goto thoughtyouknew
			label toldship
			`	"Okay. You probably already can see mine," the Jibauni winks at you.`
				goto whoyou
			label namequestion
			`	"You are the only living non-Jibauni anywhere in our space," the Jibauni reminds you. "Everyone knows who you are. Will you answer my question?"`
			choice
				`	"<ship>."`
					goto toldship
				`	"I thought you would know that I am Captain <first> <last> of the <ship>."`
					goto thoughtyouknew
			label thoughtyouknew
			`	"Nope," the Jibauni replies merrily. "We common Jibauni only know your first and last names."`
				goto whoyou
			label whoyou
			`	"What is your name?" you ask. "I am surprised you would want to know," is the answer. "But I am Ru-win, daughter of Alson and Weni. At any rate, I have some business to attend to, so goodbye."`
				goto finish # I wonder about putting an option to ask and find out that Jibauni female names end with a consonant, while male names end with a vowel, opposite to English
			label finish
			branch "knows type"
				has "Sol-Bound Shuttle: declined"
			action
				log "Apparently some Jibauni use their ships without hyperdrives and just shuttle people around the system of Hajay."
			choice
				`	"Thanks for talking with me. The non-hyperdrive part of it is a really interesting fact."`
					decline
				`	"Nice meeting you. Goodbye too."`
					decline
			label "knows type"
			action
				log "Just like in Sol, some Jibauni have no hyperdrives on their ships and instead ferry people around the system of Hajay."
			choice
				`	"Thanks for talking with me. That is a really interesting fact."`
					decline
				`	"Nice meeting you. Goodbye."`
					decline
			label no
			action
				set "no jibauni hajay intersystem"
			`	Well, who knows what was happening there. However, it doesn't concern you in the least, so you continue with your other business.`
				decline
			label nothanksship
			action
				set "no jibauni hajay intersystem"
			`	"Well, good luck to you. I have some business now, so goodbye."`
				decline
